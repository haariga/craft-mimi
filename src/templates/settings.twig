{# @var craft \craft\web\twig\variables\CraftVariable #}
{#
/**
 * CraftMimi plugin for Craft CMS 3.x
 *
 * CraftMimi Settings.twig
 *
 * @author    Haariga
 * @copyright Copyright (c) 2019 Haariga
 * @link      https://xn--hriga-mra.com/
 * @package   CraftMimi
 * @since     0.0.1
 */
#}

{% from 'mimi/_includes/macros' import configWarning %}
{% import "_includes/forms" as forms %}
{#
    TODO: @martin
    Kann die Settings Page nicht aufrufen wenn das drin ist
    Failed to instantiate component or class "haariga\craftMimi\assetbundles\mimi\MimiAsset".

    Asset Fields gehen noch nicht
    Fehlen noch Attribute
    Das mit dem `value: settings["someAttribute"]` hab ich auch noch nicht verstanden.
    Finde aber auch nicht wirklich was brauchbares bei Google
#}
{#{% do view.registerAssetBundle("haariga\\craftMimi\\assetbundles\\mimi\\MimiAsset") %}#}

{{ forms.elementSelectfield({
    label: "Default Watermark Image"|t("mimi"),
    instructions: "Set the default Watermark Image." |t("mimi"),
    id: "defaultWatermarkImage",
    name: "defaultWatermarkImage",
    viewMode: "large",
    elementType: 'asset',
    criteria: {
        kind: ["image"],
    },
    selectionLabel: "Select an Image"|t("mimi"),
    sources: [],
    limit: 1,
    warning: false,
}) }}

{{ forms.elementSelectfield({
    label: "Default Watermark Graphic"|t("mimi"),
    instructions: "Set the default Watermark Graphic." |t("mimi"),
    id: "defaultWatermarkGraphic",
    name: "defaultWatermarkGraphic",
    viewMode: "large",
    elementType: 'asset',
    criteria: {
        kind: ["image"],
    },
    selectionLabel: "Select a graphic"|t("mimi"),
    sources: [],
    limit: 1,
    warning: false,
}) }}


{{ forms.textField({
    label: "Default Watermark Image Width",
    instructions: "Set the default width of the Watermark Image. (px)" | t("mimi"),
    id: "defaultWatermarkImageWidth",
    name: "defaultWatermarkImageWidth",
    value: settings["defaultWatermarkImageWidth"],
    warning: configWarning('defaultWatermarkImageWidth', 'mimi'),
    errors: settings.getErrors("defaultWatermarkImageWidth"),
}) }}

{{ forms.textField({
    label: "Default Watermark Image Height",
    instructions: "Set the default height of the Watermark Image. (px)" | t("mimi"),
    id: "defaultWatermarkImageHeight",
    name: "defaultWatermarkImageHeight",
    value: settings["defaultWatermarkImageHeight"],
    warning: configWarning('defaultWatermarkImageHeight', 'mimi'),
    errors: settings.getErrors("defaultWatermarkImageHeight"),
}) }}

{{ forms.textField({
    label: "Default Watermark Image Opacity",
    instructions: "Set the default opacity of the Watermark Image. (0 - 1)" | t("mimi"),
    id: "defaultWatermarkImageOpacity",
    name: "defaultWatermarkImageOpacity",
    value: settings["defaultWatermarkImageOpacity"],
    warning: configWarning('defaultWatermarkImageOpacity', 'mimi'),
    errors: settings.getErrors("defaultWatermarkImageOpacity"),
}) }}

{{ forms.selectField({
    label: "Default Watermark Image Position"|t,
    instructions: "Set the default position of the Watermark Image." | t("mimi"),
    id: 'defaultWatermarkImagePosition',
    name: 'defaultWatermarkImagePosition',
    value: settings["defaultWatermarkImagePosition"],
    warning: configWarning('defaultWatermarkImagePosition', 'mimi'),
    errors: settings.getErrors("defaultWatermarkImagePosition"),
    options: {
        'left/top': 'Left - Top',
        'left/center': 'Left - Center',
        'left/bottom': 'Left - Bottom',
        'center/top': 'Center - Top',
        'center/center': 'Center - Center',
        'center/bottom': 'Center - Bottom',
        'right/top': 'Right - Top',
        'right/center': 'Right - Center',
        'right/bottom': 'Right - Bottom',
    },
}) }}

{{ forms.textField({
    label: "Default Watermark Image Offset X-Axis",
    instructions: "Set the default X-Axis Offset of the Watermark Image. (px)" | t("mimi"),
    id: "defaultWatermarkImageOffsetXAxis",
    name: "defaultWatermarkImageOffsetXAxis",
    value: settings["defaultWatermarkImageOffsetXAxis"],
    warning: configWarning('defaultWatermarkImageOffsetXAxis', 'mimi'),
    errors: settings.getErrors("defaultWatermarkImageOffsetXAxis"),
}) }}

{{ forms.textField({
    label: "Default Watermark Image Offset Y-Axis",
    instructions: "Set the default Y-Axis Offset of the Watermark Image. (px)" | t("mimi"),
    id: "defaultWatermarkImageOffsetYAxis",
    name: "defaultWatermarkImageOffsetYAxis",
    value: settings["defaultWatermarkImageOffsetYAxis"],
    warning: configWarning('defaultWatermarkImageOffsetYAxis', 'mimi'),
    errors: settings.getErrors("defaultWatermarkImageOffsetYAxis"),
}) }}
